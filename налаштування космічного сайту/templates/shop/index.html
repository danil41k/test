{% extends "base.html" %}

{% block content %}
    <h1>–ú–∞–≥–∞–∑–∏–Ω –∫–æ–º–ø–ª–µ–∫—Ç—É—é—á–∏—Öüåå</h1>
    <p>–û–±–µ—Ä—ñ—Ç—å —Ç–æ–≤–∞—Ä —è–∫–∏–π –±—É–¥–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–π –¥–æ –≤–∞—à–æ—ó –∫–æ—Ä–∑–∏–Ω–∏</p>

    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-top: 20px;">
        {% for product in products %}
        <div style="border: 1px solid #ccc; padding: 15px; border-radius: 8px; background-color: white; box-shadow: 0 2px 5px rgba(0,0,0,0.05);">
            <h2>{{ product.name }}</h2>
            <p>{{ product.description }}</p>
            <p><strong>–¶—ñ–Ω–∞: ${{ product.price | round(2) }}</strong></p>
            <p style="color: {% if product.stock > 0 %}green{% else %}red{% endif %};">–ù–∞ —Å–∫–ª–∞–¥—ñ: {{ product.stock }}</p>
            <button {% if product.stock == 0 %}disabled{% endif %}>–î–æ–¥–∞—Ç–∏ –¥–æ –∫–æ—à–∏–∫–∞</button>
            
            {% if current_user.is_authenticated and current_user.role == 'admin' %}
                <a href="{{ url_for('admin.manage_products') }}" style="float: right; text-decoration: none; color: #007bff;">(–†–µ–¥–∞–≥—É–≤–∞—Ç–∏)</a>
            {% endif %}
        </div>
        {% endfor %}
    </div>
{% endblock %}